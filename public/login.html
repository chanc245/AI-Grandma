<html lang="en">
<body onload="formatAMPM()">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />

    <link rel="icon" href="assets/img/grannybytes_favicon.png" type="image/x-icon">
    
    <title>Are you Hungry?</title>
  </head>
  <body>

    <img class="overlay" src="assets/img/noiseoverlay.png"/>
    
    <div class="main-container">
      <div class="mitty-container">
        <img class="mitty" id="mittyGif" src="./assets/img/Mitty/icon_Mitty.png"/>
        <img class="speechbubble" style="height: 120px;" src="assets/img/UI/icons/speech-bubble.png"/>
        <img class="mitty-bar" src="assets/img/UI/topbar/mitty_hints_topbar.png"/>
        <p class="mitty-text">Check out the welcome page and then type your name to log in!</p>
      </div>
      <div class="loginbox">
        <div class="topbar">
          <img src="./assets/img/UI/topbar/login_topbar.png" />
        </div>
        <div id="login-controls">
          <div class="login-username">
            <label for="uname"><b>Username</b></label>
            <input id="user"
              type="text"
              placeholder="Enter Username"
              name="uname"
              required
            />
          </div>
          <div class="login-psw">
            <label for="psw"><b>Password</b></label>

            <input id="password" style="pointer-events:none;"
              type="password"
              placeholder="********"
              name="psw"
              readonly
            />
          </div>
          <button onclick="login()" id="login-btn" class="loginBtn">Login</button>
        </div>
      </div>

      <div class="welcomebox" style="z-index: 100; padding: 10px">
        <div class="topbar">
          <img src="./assets/img/UI/topbar/welcome_topbar.png" />
        </div>
          <div style="padding:10px; margin-top:10px; background-color: FCE7E3; height: auto;">
            <p style="color: #92584E; margin:0; font-family: 'Halfpix'">Welcome to Granny Bytes! The application that allows you to 
              talk to an AI Grandmother who will help you cook a recipe of your
              choice. Bring your computer to your kitchen (IRL) and let's get started!
            </p>
        </div>
      </div>
    </body>

    <div class="footer">
      <div class="scene-info">
        <img src="./assets/img/UI/icons/icon_ Welcome.png">
        <p class="scene-info">Welcome to Granny Bytes</p>
      </div>
      <p class="scene-info" id="time">12:00PM</p>
    </div>
   </div>

  <!-- COMPUTER FRAME -->
  <div class="com-frame">
    <div class="com-bot-bar">
      <div class="bot-bar-container">
        <img src="./assets/img/retro-computer/com-connect-noclick.svg" class="bot-bar-svg">
        <img src="./assets/img/retro-computer/com-left-noclick.svg" class="bot-bar-svg">
        <img src="./assets/img/retro-computer/com-up-noclick.svg" class="bot-bar-svg">
        <img src="./assets/img/retro-computer/com-down-noclick.svg" class="bot-bar-svg">
        <img src="./assets/img/retro-computer/com-right-noclick.svg" class="bot-bar-svg">
        <div class="power-light"></div>
        <div class="power-btn" onclick="togglePower()"></div> 
      </div>    
    </div>
  </div>
  <div class="com-screen-off"></div>
  <!-- COMPUTER FRAME -->

</div>
  <script>
    const nextPage = document.getElementById("login-btn");
      nextPage.addEventListener("click", () => {
        window.location.href = "./recipe.html";
      });

    // MITTY INTERACTION //
    let mittyUrls = [
      "./assets/img/Mitty/icon_Mitty.png",
      "./assets/img/Mitty/icon_Mitty_close.png"
    ];

    let currentMitty = 0;
    let mittyGif = document.getElementById("mittyGif");
    
    setInterval(function() {
      currentMitty = (currentMitty + 1) % mittyUrls.length;
      mittyGif.src = mittyUrls[currentMitty];
    }, 1500);

    document.addEventListener("DOMContentLoaded", function() {

      let mittyGif = document.getElementById("mittyGif");
      mittyGif.addEventListener("click", function() {
        mittyGif.src = "./assets/img/Mitty/icon_Mitty_click.png"; 

        setTimeout(function() {
            mittyGif.src = "./assets/img/Mitty/icon_Mitty.png";
        }, 300);
      });
    });
    // MITTY INTERACTION //

    // TURN OFF COMPUTER //
    function togglePower() {
      var light = document.querySelector('.power-light');
      var screenOff = document.querySelector('.com-screen-off');

      // Toggle power light
      if (light.style.backgroundImage.includes('com-power-light-on.svg')) {
        light.style.backgroundImage = "url('./assets/img/retro-computer/com-power-light-off.svg')";
      } else {
        light.style.backgroundImage = "url('./assets/img/retro-computer/com-power-light-on.svg')";
      }

      // Toggle screen visibility
      if (screenOff.style.display === "none") {
        screenOff.style.display = "block";
      } else {
        screenOff.style.display = "none";
      }
    }
    // TURN OFF COMPUTER //
  </script>
  <script src="time.js"></script>
</html>
